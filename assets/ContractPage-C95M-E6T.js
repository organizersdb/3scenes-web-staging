import{j as s,f as y,r as V,A as H,u as D,a as $,b as j,L as k,i as f,B as A}from"./index-D_Je3U8E.js";import{A as L}from"./Avatar-DDAoMGYo.js";import{S as _}from"./Status-z07AoAUc.js";import{D as S}from"./DiscordButton-DuXtYCjK.js";function F(){return s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("mask",{id:"mask0_1853_785",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:s.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),s.jsx("g",{mask:"url(#mask0_1853_785)",children:s.jsx("path",{d:"M5.61538 21C5.15513 21 4.77083 20.8458 4.4625 20.5375C4.15417 20.2292 4 19.8449 4 19.3846V6.61538C4 6.15513 4.15417 5.77083 4.4625 5.4625C4.77083 5.15417 5.15513 5 5.61538 5H7.3846V2.76923H8.46152V5H15.6154V2.76923H16.6154V5H18.3846C18.8449 5 19.2292 5.15417 19.5375 5.4625C19.8458 5.77083 20 6.15513 20 6.61538V19.3846C20 19.8449 19.8458 20.2292 19.5375 20.5375C19.2292 20.8458 18.8449 21 18.3846 21H5.61538ZM5.61538 20H18.3846C18.5385 20 18.6795 19.9359 18.8077 19.8077C18.9359 19.6795 19 19.5385 19 19.3846V10.6154H5V19.3846C5 19.5385 5.0641 19.6795 5.1923 19.8077C5.32052 19.9359 5.46154 20 5.61538 20ZM5 9.61538H19V6.61538C19 6.46154 18.9359 6.32052 18.8077 6.1923C18.6795 6.0641 18.5385 6 18.3846 6H5.61538C5.46154 6 5.32052 6.0641 5.1923 6.1923C5.0641 6.32052 5 6.46154 5 6.61538V9.61538Z",fill:"#A9A9A9"})})]})}function M(){return s.jsxs("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("mask",{id:"mask0_1858_857",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"24",children:s.jsx("rect",{x:"0.5",width:"24",height:"24",fill:"#D9D9D9"})}),s.jsx("g",{mask:"url(#mask0_1858_857)",children:s.jsx("path",{d:"M12.5 15.5769L8.96152 12.0384L9.66923 11.3192L12 13.65V5H13V13.65L15.3308 11.3192L16.0385 12.0384L12.5 15.5769ZM7.11537 19C6.65512 19 6.27083 18.8458 5.9625 18.5375C5.65417 18.2292 5.5 17.8449 5.5 17.3846V14.9616H6.5V17.3846C6.5 17.5385 6.5641 17.6795 6.6923 17.8077C6.82052 17.9359 6.96154 18 7.11537 18H17.8846C18.0385 18 18.1795 17.9359 18.3077 17.8077C18.4359 17.6795 18.5 17.5385 18.5 17.3846V14.9616H19.5V17.3846C19.5 17.8449 19.3458 18.2292 19.0375 18.5375C18.7292 18.8458 18.3449 19 17.8846 19H7.11537Z",fill:"#FAFAFA"})})]})}const g={已繳付:"bg-[#3300B7]",已預繳:"bg-cyan",項目總值:"bg-[#D9D9D9]"},U=()=>{const p=y(),{authSwrFetcher:u}=V.useContext(H),{id:N}=D(),{data:d,isLoading:b}=$(`/contract/view?id=${N}`,u);if(b)return s.jsx(j,{children:s.jsx(k,{})});if(!d)return s.jsx(s.Fragment,{});const{job:i,screenwriter:r,status:o,statusRemark:w,startTime:h,endTime:m,milestones:c,projectPrice:n,paymentBreakdown:t,attachments:x}=d;return s.jsxs(j,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-12",children:[s.jsxs("div",{className:"flex flex-col gap-y-4",children:[s.jsxs("section",{className:"flex flex-col gap-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-x-4",children:[s.jsx(L,{name:r==null?void 0:r.name}),s.jsx(S,{variant:"icon"})]}),s.jsx("div",{className:"text-gray-500",children:h&&`${f(h*1e3)} - ${f(m?m*1e3:null)}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"font-serif text-3xl",children:i==null?void 0:i.title}),o&&s.jsx(_,{status:o,statusRemark:w})]})]}),s.jsxs("section",{className:"bg-[#323232] p-8",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-white pb-4",children:[s.jsx("h2",{className:"font-serif text-xl",children:"進度時間表"}),s.jsx(A,{className:"border-indigo bg-indigo text-white",text:"管理"})]}),s.jsx("ul",{className:"scrollable flex flex-col overflow-y-auto px-6 py-10",children:c==null?void 0:c.map(({name:e,amount:a,dueDate:l,paymentStatus:v},C)=>s.jsxs("li",{className:"grid grid-cols-[30px_1fr] gap-y-2 border-l border-cyan pb-12",children:[s.jsx("div",{className:"h-[30px] w-[30px] -translate-x-[calc(15px)] rounded-full bg-cyan"}),s.jsxs("div",{className:"flex flex-col gap-y-2",children:[s.jsx("div",{className:"font-light text-gray-500",children:e}),s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsxs("span",{className:"font-sora text-xl",children:["$",a]}),s.jsx("span",{className:"py-1/2 rounded-sm border border-white px-3",children:v})]}),s.jsxs("div",{className:"flex gap-x-2 text-gray-500",children:[s.jsx(F,{}),s.jsxs("span",{children:["至 ",l]})]})]})]},`milestone-${C}`))})]})]}),s.jsxs("div",{className:"flex flex-col gap-y-16",children:[s.jsxs("section",{className:"flex flex-col gap-y-4",children:[s.jsx("h2",{className:"border-b border-white pb-4 font-serif text-2xl",children:"款項細節"}),s.jsx("div",{className:"flex w-full",children:n&&n>0&&(t==null?void 0:t.map(({name:e,amount:a},l)=>s.jsx("div",{style:{width:`${a/n*100}%`},className:`h-7 ${g[e]}`},`paymentbreakdown-${l}`)))}),s.jsx("ul",{className:"flex w-2/3 flex-col gap-y-2",children:t==null?void 0:t.map(({name:e,amount:a},l)=>s.jsxs("li",{className:"grid grid-cols-2",children:[s.jsxs("div",{className:"flex items-center gap-x-2",children:[s.jsx("div",{className:`h-4 w-4 ${g[e]}`}),s.jsx("span",{className:"ml-4 text-gray-500",children:e})]}),s.jsxs("span",{className:"ml-8",children:["$",a]})]},`amount-${l}`))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"border-b border-white pb-4 font-serif text-2xl",children:"所有檔案"}),s.jsx("ul",{children:x==null?void 0:x.map(({fileName:e,url:a},l)=>s.jsx("li",{className:"border-b border-white py-1",children:s.jsxs("a",{className:"flex items-center justify-between",href:a,children:[e," ",s.jsx(M,{})]})},`attachment-${l}`))})]})]})]}),s.jsx("div",{className:"py-8 text-white",children:s.jsx("button",{onClick:()=>p(-1),children:"上一頁"})})]})};export{U as default};
